<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ì—¬ë´‰ì´ ë”ì¿  ê³„ê¸‰ í…ŒìŠ¤íŠ¸</title>

  <!-- êµ¬ê¸€ ì• ë“œì„¼ìŠ¤ -->
  <script async
    src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2371351351559028"
    crossorigin="anonymous"></script>

  <!-- ì¹´ì¹´ì˜¤ SDK -->
  <script src="https://t1.kakaocdn.net/kakao_js_sdk/2.7.2/kakao.min.js"
          crossorigin="anonymous"></script>

  <style>
    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      background: #f5f5f7;
    }
    .app {
      max-width: 480px;
      margin: 0 auto;
      padding: 20px 16px 40px;
    }
    .hidden { display: none; }
    .card {
      background: #fff;
      border-radius: 18px;
      padding: 20px;
      margin-bottom: 16px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.05);
    }
    h1 { font-size: 24px; margin: 0 0 8px; }
    h2 { font-size: 20px; margin: 12px 0 8px; }
    p { color:#555; }
    .btn {
      width: 100%;
      padding: 14px;
      border-radius: 999px;
      border: none;
      background: #ff6b81;
      color: #fff;
      font-weight: 600;
      font-size: 15px;
      margin-top: 12px;
    }
    .btn.secondary {
      background: #eee;
      color:#333;
    }
    .option-btn {
      width:100%;
      padding:12px;
      margin-top:10px;
      border-radius:14px;
      border:1px solid #ddd;
      background:#fff;
      text-align:left;
    }
    .spinner {
      width:50px;height:50px;
      border:6px solid #ffd1da;
      border-top-color:#ff6b81;
      border-radius:50%;
      animation: spin 1s linear infinite;
      margin:20px auto;
    }
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
  </style>
</head>

<body>
<div class="app">

  <!-- ë©”ì¸ -->
  <div id="page-home">
    <div class="card">
      <h1>ì—¬ë´‰ì´ì˜ ì‹¬ì‹¬í’€ì´ ì„±í–¥ í…ŒìŠ¤íŠ¸</h1>
      <p>ì˜¤ëŠ˜ì€ ì–´ë–¤ í…ŒìŠ¤íŠ¸ë¡œ ë†€ì•„ë³¼ê¹Œ?</p>

      <button class="btn" onclick="showIntro()">ğŸ§¸ ì—¬ë´‰ì´ ë”ì¿  ê³„ê¸‰ í…ŒìŠ¤íŠ¸</button>
      <button class="btn secondary">ë‹¤ë¥¸ í…ŒìŠ¤íŠ¸ ê³§ ì˜¤í”ˆ ì˜ˆì •!</button>

      <a href="https://www.instagram.com/bong_studios"
         target="_blank"
         class="btn secondary">ì—¬ë´‰ì´ ì¸ìŠ¤íƒ€ ë°”ë¡œê°€ê¸°</a>
    </div>
  </div>

  <!-- ì¸íŠ¸ë¡œ -->
  <div id="page-intro" class="hidden">
    <div class="card" style="text-align:center">
      <h1>ì—¬ë´‰ì´ ë”ì¿  ê³„ê¸‰ í…ŒìŠ¤íŠ¸</h1>
      <p>ë‚´ê°€ ì™•ì´ ë  ìƒì¸ê°€?</p>
      <button class="btn" onclick="startTest()">í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸°</button>
    </div>
    <button class="btn secondary" onclick="goHome()">â† ëŒì•„ê°€ê¸°</button>
  </div>

  <!-- ì§ˆë¬¸ -->
  <div id="page-quiz" class="hidden">
    <div class="card">
      <h2 id="q-text"></h2>
      <div id="options"></div>
    </div>
  </div>

  <!-- ë¡œë”© -->
  <div id="page-loading" class="hidden">
    <div class="card" style="text-align:center">
      <h2>ê²°ê³¼ ë§Œë“œëŠ” ì¤‘â€¦</h2>
      <div class="spinner"></div>
    </div>
  </div>

  <!-- ê²°ê³¼ -->
  <div id="page-result" class="hidden">
    <div class="card" style="text-align:center">
      <h1 id="result-title"></h1>

      <button class="btn" onclick="openShare()">ê³µìœ í•˜ê¸°</button>
      <button class="btn secondary" onclick="goHome()">ë‹¤ì‹œí•˜ê¸°</button>
    </div>
  </div>

</div>

<!-- ê³µìœ  íŒì—… -->
<div id="share-popup" class="hidden"
     style="position:fixed;inset:0;background:rgba(0,0,0,.5);
            display:flex;align-items:center;justify-content:center;">
  <div class="card" style="width:80%;max-width:320px;text-align:center">
    <h2>ê³µìœ í•˜ê¸°</h2>
    <button class="btn" onclick="shareKakao()">ì¹´ì¹´ì˜¤í†¡</button>
    <button class="btn secondary" onclick="shareInstagram()">ì¸ìŠ¤íƒ€ ìŠ¤í† ë¦¬</button>
    <button class="btn secondary" onclick="closeShare()">ë‹«ê¸°</button>
  </div>
</div>

<script>
/* ===== í˜ì´ì§€ ì œì–´ ===== */
const pages = ["page-home","page-intro","page-quiz","page-loading","page-result"];
function show(id){
  pages.forEach(p=>document.getElementById(p).classList.add("hidden"));
  document.getElementById(id).classList.remove("hidden");
}
function goHome(){ show("page-home"); }
function showIntro(){ show("page-intro"); }

/* ===== ì§ˆë¬¸ ===== */
const questions = [
  { q:"ë°©ì— êµ¿ì¦ˆ ëª‡ ê°œ?", o:[[0,"0~3ê°œ"],[5,"4~20ê°œ"],[10,"21ê°œ ì´ìƒ"]] },
  { q:"1ë…„ê°„ ë³¸ ì• ë‹ˆ ìˆ˜?", o:[[0,"0~3"],[5,"4~12"],[10,"13ê°œ ì´ìƒ"]] },
  { q:"ìµœì• ì— ì“´ ëˆ?", o:[[0,"10ë§Œâ†“"],[5,"11~50ë§Œ"],[10,"51ë§Œâ†‘"]] },
  { q:"ì• ë‹ˆ ì¶”ì²œ?", o:[[10,"ë¬´ì¡°ê±´ ì¶”ì²œ"],[5,"ì€ê·¼ ì¶”ì²œ"],[0,"ì•ˆí•¨"]] },
  { q:"ì˜¤íƒ€ì¿  ì†Œë¦¬ ë“¤ìœ¼ë©´?", o:[[10,"ìë‘"],[5,"ì¸ì •"],[0,"ë¶€ì •"]] }
];

let idx=0, score=0;

function startTest(){
  idx=0; score=0;
  render();
  show("page-quiz");
}
function render(){
  const q=questions[idx];
  document.getElementById("q-text").textContent=q.q;
  const wrap=document.getElementById("options");
  wrap.innerHTML="";
  q.o.forEach(v=>{
    const b=document.createElement("button");
    b.className="option-btn";
    b.textContent=v[1];
    b.onclick=()=>next(v[0]);
    wrap.appendChild(b);
  });
}
function next(p){
  score+=p;
  if(idx<questions.length-1){ idx++; render(); }
  else{
    show("page-loading");
    setTimeout(showResult,2000);
  }
}
function showResult(){
  let t="";
  if(score<=10)t="1ë‹¨ê³„ í‚¹ë°˜ì¸";
  else if(score<=20)t="2ë‹¨ê³„ í‰ë¯¼ ë•ì¿ ";
  else if(score<=30)t="3ë‹¨ê³„ ê¸°ì‚¬ ë”ì¿ ";
  else if(score<=40)t="4ë‹¨ê³„ ë°±ì‘ ë”ì¿ ";
  else t="5ë‹¨ê³„ í‚¹ì˜¤ë¸Œ ë”ì¿ ";
  document.getElementById("result-title").textContent=t;
  show("page-result");
}

/* ===== ê³µìœ  ===== */
function openShare(){ document.getElementById("share-popup").classList.remove("hidden"); }
function closeShare(){ document.getElementById("share-popup").classList.add("hidden"); }

/* ğŸ”¥ ì¹´ì¹´ì˜¤ ê³µìœ  (Link ë°©ì‹ â€“ ì½˜ì†” ì„¤ì • ë¶ˆí•„ìš”) */
function shareKakao(){
  if(!Kakao.isInitialized()){
    Kakao.init("e9794a44d4c69a353097f55a960e6cab"); // â† êµì²´
  }
  Kakao.Link.sendDefault({
    objectType:"feed",
    content:{
      title:"ì—¬ë´‰ì´ ë”ì¿  ê³„ê¸‰ í…ŒìŠ¤íŠ¸",
      description:"ë‚˜ëŠ” ëª‡ ë‹¨ê³„ ë”ì¿ ì¼ê¹Œ?",
      imageUrl:"https://bongstudiosad.com/og-image.png",
      link:{
        mobileWebUrl:"https://bongstudiosad.com",
        webUrl:"https://bongstudiosad.com"
      }
    },
    buttons:[{
      title:"í…ŒìŠ¤íŠ¸ í•˜ëŸ¬ ê°€ê¸°",
      link:{
        mobileWebUrl:"https://bongstudiosad.com",
        webUrl:"https://bongstudiosad.com"
      }
    }]
  });
}

/* ì¸ìŠ¤íƒ€ */
function shareInstagram(){
  navigator.clipboard.writeText("https://bongstudiosad.com");
  location.href="instagram://story-camera";
  setTimeout(()=>alert("ë§í¬ê°€ ë³µì‚¬ëì–´ìš”! ìŠ¤í† ë¦¬ì— ë¶™ì—¬ë„£ê¸° í•´ì£¼ì„¸ìš”"),600);
}

/* ì‹œì‘ */
show("page-home");
</script>
</body>
</html>
